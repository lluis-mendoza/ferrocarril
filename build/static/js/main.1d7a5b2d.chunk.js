(this.webpackJsonpferrocarril=this.webpackJsonpferrocarril||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){},49:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),c=n(17),r=n.n(c),l=(n(41),n(13)),i=n(3),o=n(9),u=Object(o.a)(),d=n(4),h=n(5),j=n(7),b=n(6),p=(n(42),n(1)),O=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.call(this)}return Object(h.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"home",children:[Object(p.jsx)(l.b,{to:"/play",children:Object(p.jsx)("button",{className:"btn homeBtn",children:"Jugar"})}),Object(p.jsx)("br",{}),Object(p.jsx)(l.b,{to:"/ranking",children:Object(p.jsx)("button",{className:"btn homeBtn",children:"Ranking"})})]})}}]),n}(s.Component),f=n(20),v=(n(49),n(19)),m="FIND_USERS",x=n(26),k=n.n(x),C=n(35),y=n.n(C),g=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(d.a)(this,n),(s=t.call(this,e)).onChange=function(e){s.setState(Object(f.a)({},e.currentTarget.id,e.target.value))},s.state={numSelect:1,name:"",selected:[""],visibleModal:!1},s}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.props.find()}},{key:"createUser",value:function(){var e={name:this.state.name};this.props.create(e),this.closeModal(),this.props.find()}},{key:"openModal",value:function(){this.setState({visibleModal:!0})}},{key:"closeModal",value:function(){this.setState({visibleModal:!1})}},{key:"renderUsers",value:function(e){if(void 0!==this.props.users){for(var t=[],n=0;n<this.props.users.length;++n){var s=this.props.users[n].name;this.state.selected.includes(s)&&this.state.selected.indexOf(s)!=e||t.push(Object(p.jsx)("option",{value:s,children:s}))}return t}return null}},{key:"changeSelectOptionHandler",value:function(e){var t=this.state.selected;t[parseInt(e.target.id)]=e.target.value,this.setState({selected:t})}},{key:"renderSelection",value:function(){for(var e=this,t=[],n=0;n<this.state.numSelect;++n)t.push(Object(p.jsxs)("div",{className:"content-select",children:[Object(p.jsxs)("select",{id:n,onChange:function(t){return e.changeSelectOptionHandler(t)},children:[Object(p.jsx)("option",{disabled:!0,selected:!0,value:!0,children:" -- select an option -- "}),this.renderUsers(n)]}),Object(p.jsx)("i",{})]}));return t}},{key:"addUser",value:function(){if(this.state.numSelect<8){var e=this.state.numSelect+1,t=this.state.selected;t.push(""),this.setState({numSelect:e,selected:t})}}},{key:"removeUser",value:function(){if(this.state.numSelect>1){var e=this.state.numSelect-1,t=this.state.selected;t.pop(),this.setState({numSelect:e,selected:t})}}},{key:"render",value:function(){var e,t=this;return Object(p.jsxs)("div",{class:"play",children:[Object(p.jsxs)("div",{className:"playButtons",children:[Object(p.jsx)("input",{className:"btn playButton",type:"button",value:"Add User",onClick:function(){return t.addUser()}}),Object(p.jsx)("input",{className:"btn playButton",type:"button",value:"Remove User",onClick:function(){return t.removeUser()}}),Object(p.jsx)("input",{className:"btn playButton",type:"button",value:"Create User",onClick:function(){return t.openModal()}})]}),Object(p.jsx)("div",{className:"selections",children:this.renderSelection()}),Object(p.jsx)(y.a,{visible:this.state.visibleModal,width:"400",height:"300",effect:"fadeInUp",onClickAway:function(){return t.closeModal()},children:Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{class:"titleModal",children:Object(p.jsx)("p",{children:"Create user"})}),Object(p.jsx)("a",{href:"javascript:void(0);",onClick:function(){return t.closeModal()},children:"Close"}),Object(p.jsx)("div",{className:"inputModalDiv",onChange:this.onChange,value:this.state.name,id:"name",children:Object(p.jsx)("input",(e={className:"inputModal",type:"text"},Object(f.a)(e,"className","form-input"),Object(f.a)(e,"placeholder","Name"),e))}),Object(p.jsx)("input",{type:"button",value:"Create",onClick:function(){return t.createUser()}})]})}),Object(p.jsx)("div",{className:"startContainer",children:Object(p.jsx)(l.b,{to:{pathname:"/game",state:{players:this.state.selected}},children:Object(p.jsx)("button",{className:"btn startButton",children:"Start"})})})]})}}]),n}(s.Component),N=Object(v.b)((function(e){return{users:e.userReducer.users}}),{find:function(){return function(e){k.a.get("api/users").then((function(t){e({type:m,users:t.data})})).catch((function(e){console.log(e)}))}},create:function(e){return function(t){k.a.post("api/users",e).then((function(e){console.log("User created!")})).catch((function(e){console.log(e)}))}}})(g),I=(n(73),function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(p.jsx)("button",{className:"btn key",onClick:this.props.onClick,"data-size":this.props.size,"data-value":this.props.value,children:this.props.label})}}]),n}(s.Component)),S=(n(74),function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"Keypad",children:this.props.children})}}]),n}(s.Component)),B=n(16),M=n.n(B),w=(n(75),function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(e){var s;Object(d.a)(this,n),(s=t.call(this,e)).formatValue=function(e){return"".concat(Number(e).toFixed(0))};for(var a=s.props.location.state.players,c=[],r=0;r<a.length;++r)c.push({name:a[r],numCompras:0,score:[0],lastActions:[]});return s.state={players:c,selectedId:-1,showKeypad:!1},s}return Object(h.a)(n,[{key:"componentDidMount",value:function(){}},{key:"renderNames",value:function(){for(var e=this,t=[],n=function(n){t.push(Object(p.jsx)("th",{onClick:function(t){return e.onClickName(n)},children:e.state.players[n].name}))},s=0;s<this.state.players.length;++s)n(s);return t}},{key:"onClickName",value:function(e){console.log(e),this.setState({selectedId:e,showKeypad:!0})}},{key:"renderScore",value:function(e){for(var t=this,n=[],s=function(s){var a=!1;a=0==e?t.state.players[s].score[e]<0:t.state.players[s].score[e]<t.state.players[s].score[e-1],n.push(Object(p.jsxs)("td",{className:a?"winner":null,onClick:function(e){return t.onClickName(s)},children:[Object(p.jsx)(M.a,{value:t.state.players[s].score[e],formatValue:t.formatValue,duration:300})," "]}))},a=0;a<this.state.players.length;++a)s(a);return n}},{key:"renderScores",value:function(){for(var e=[],t=0;t<this.state.players[0].score.length;++t)e.push(Object(p.jsx)("tr",{children:this.renderScore(t)}));return e}},{key:"renderCompras",value:function(){for(var e=this,t=[],n=function(n){t.push(Object(p.jsxs)("td",{onClick:function(t){return e.onClickName(n)},children:["Compras: ",Object(p.jsx)(M.a,{value:e.state.players[n].numCompras,formatValue:e.formatValue,duration:100})," "]}))},s=0;s<this.state.players.length;++s)n(s);return t}},{key:"renderDisplay",value:function(){return Object(p.jsxs)("div",{className:"tableDiv",children:[Object(p.jsx)("p",{className:"name",children:this.state.players[this.state.selectedId].name}),Object(p.jsxs)("p",{className:"text",children:["Compras: ",Object(p.jsx)(M.a,{value:this.state.players[this.state.selectedId].numCompras,formatValue:this.formatValue,duration:300})]}),Object(p.jsxs)("p",{className:"text",children:["Puntuaci\xf3n: ",Object(p.jsx)(M.a,{value:this.state.players[this.state.selectedId].score[this.state.players[this.state.selectedId].score.length-1],formatValue:this.formatValue,duration:300})]})]})}},{key:"handleButtonClick",value:function(e){var t=this.state.players,n=e.target.getAttribute("data-value");switch(n){case"restar":if(t[this.state.selectedId].lastActions.length>0){var s=t[this.state.selectedId].lastActions[t[this.state.selectedId].lastActions.length-1];"compra"==s?t[this.state.selectedId].numCompras-=1:t[this.state.selectedId].score[t[this.state.selectedId].score.length-1]-=parseInt(s),t[this.state.selectedId].lastActions.pop()}break;case"comodin":t[this.state.selectedId].score[t[this.state.selectedId].score.length-1]+=50,t[this.state.selectedId].lastActions.push("50");break;case"figura":t[this.state.selectedId].score[t[this.state.selectedId].score.length-1]+=10,t[this.state.selectedId].lastActions.push("10");break;case"compra":t[this.state.selectedId].numCompras+=1,t[this.state.selectedId].lastActions.push("compra");break;case"ganador":var a=10*t[this.state.selectedId].score.length;t[this.state.selectedId].score[t[this.state.selectedId].score.length-1]-=a,t[this.state.selectedId].lastActions.push((-a).toString());break;case"acabar":for(var c=0;c<t.length;++c)t[c].score.push(t[c].score[t[c].score.length-1]);break;case"ok":this.setState({showKeypad:!1});break;default:t[this.state.selectedId].score[t[this.state.selectedId].score.length-1]+=parseInt(n),t[this.state.selectedId].lastActions.push(n)}this.setState({players:t})}},{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{className:"game",children:[!this.state.showKeypad&&Object(p.jsx)("div",{className:"tableDiv",children:Object(p.jsxs)("table",{children:[Object(p.jsx)("thead",{children:Object(p.jsx)("tr",{children:this.renderNames()})}),Object(p.jsxs)("tbody",{children:[Object(p.jsx)("tr",{children:this.renderCompras()}),this.renderScores()]})]})}),this.state.showKeypad&&this.renderDisplay(),this.state.showKeypad&&Object(p.jsxs)(S,{children:[Object(p.jsx)("button",{className:"btn",onClick:function(t){return e.handleButtonClick(t)},value:"compra",children:Object(p.jsx)("img",{src:"./descarga.png"})}),Object(p.jsx)("button",{className:"btn",onClick:function(t){return e.handleButtonClick(t)},value:"comodin",children:Object(p.jsx)("img",{src:"./descarga.png"})}),Object(p.jsx)("button",{className:"btn",onClick:function(t){return e.handleButtonClick(t)},value:"figura",children:Object(p.jsx)("img",{src:"./descarga.png"})}),Object(p.jsx)("button",{className:"btn",onClick:function(t){return e.handleButtonClick(t)},value:"restar",children:Object(p.jsx)("img",{src:"./descarga.png"})}),Object(p.jsx)(I,{onClick:function(t){return e.handleButtonClick(t)},label:"7",value:"7"}),Object(p.jsx)(I,{onClick:function(t){return e.handleButtonClick(t)},label:"8",value:"8"}),Object(p.jsx)(I,{onClick:function(t){return e.handleButtonClick(t)},label:"9",value:"9"}),Object(p.jsx)(I,{onClick:function(t){return e.handleButtonClick(t)},label:"OK",value:"ok"}),Object(p.jsx)(I,{onClick:function(t){return e.handleButtonClick(t)},label:"4",value:"4"}),Object(p.jsx)(I,{onClick:function(t){return e.handleButtonClick(t)},label:"5",value:"5"}),Object(p.jsx)(I,{onClick:function(t){return e.handleButtonClick(t)},label:"6",value:"6"}),Object(p.jsx)(I,{onClick:function(t){return e.handleButtonClick(t)},label:"Ganador",value:"ganador"}),Object(p.jsx)(I,{onClick:function(t){return e.handleButtonClick(t)},label:"1",value:"1"}),Object(p.jsx)(I,{onClick:function(t){return e.handleButtonClick(t)},label:"2",value:"2"}),Object(p.jsx)(I,{onClick:function(t){return e.handleButtonClick(t)},label:"3",value:"3"})]}),!this.state.showKeypad&&Object(p.jsx)("div",{className:"acabarDiv",children:Object(p.jsx)("button",{className:"btn acabarBtn",onClick:function(t){return e.handleButtonClick(t)},"data-value":"acabar",children:"Acabar ronda"})})]})}}]),n}(s.Component)),A=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.call(this)}return Object(h.a)(n,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"home",children:Object(p.jsx)("h1",{children:"Hola"})})}}]),n}(s.Component),U=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"not-found",children:Object(p.jsx)("h1",{children:"404 Page not found"})})}}]),n}(s.Component);n(76);var D=function(){return Object(p.jsx)(l.a,{history:u,children:Object(p.jsxs)("div",{className:"base",children:[Object(p.jsx)("div",{className:"header",children:Object(p.jsx)("h1",{children:"Ferrocarril"})}),Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)(i.c,{children:[Object(p.jsx)(i.a,{path:"/",exact:!0,component:O}),Object(p.jsx)(i.a,{path:"/home",component:O}),Object(p.jsx)(i.a,{path:"/play",component:N}),Object(p.jsx)(i.a,{path:"/game",component:w}),Object(p.jsx)(i.a,{path:"/ranking",component:A}),Object(p.jsx)(i.a,{component:U})]})})]})})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,78)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)}))},V=n(21);var F=n(36),R=Object(V.b)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return{users:t.users};default:return e}}}),P=Object(V.c)(R,Object(V.a)(F.a));r.a.render(Object(p.jsx)(v.a,{store:P,children:Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(D,{})})}),document.getElementById("root")),K()}},[[77,1,2]]]);
//# sourceMappingURL=main.1d7a5b2d.chunk.js.map